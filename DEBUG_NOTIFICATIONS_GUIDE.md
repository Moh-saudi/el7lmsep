# ุฏููู ุชุชุจุน ูุดุงูู ุงูุฅุดุนุงุฑุงุช

## ๐ **ุงููุดููุฉ ุงูุญุงููุฉ**

ุงูุฅุดุนุงุฑุงุช ุชุชููู ุนูุฏ ุทุจุงุนุฉ "Phone numbers" ููุง ุชุชุงุจุน ุงูุฅุฑุณุงู.

## ๐ **ุฎุทูุงุช ุงูุชุชุจุน**

### 1. **ูุชุญ Developer Tools**
```
F12 โ Console Tab
```

### 2. **ุฅูุดุงุก ุฅุดุนุงุฑ ุฌุฏูุฏ**
- ุงูุชูู ุฅูู ุตูุญุฉ ุงูุฅุดุนุงุฑุงุช
- ุฃูุดุฆ ุฅุดุนุงุฑ ุฌุฏูุฏ
- ุงุฎุชุฑ "WhatsApp" ุฃู "SMS" ุฃู "Both"
- ุฃุถู ุฑูู ูุงุชู
- ุงุถุบุท "ุฅูุดุงุก ุงูุฅุดุนุงุฑ"

### 3. **ูุฑุงูุจุฉ Console Logs**

#### **ุงูุทุจุงุนุฉ ุงููุชููุนุฉ:**
```
๐ === ุจุฏุก ุฅูุดุงุก ุงูุฅุดุนุงุฑ ===
๐ ุจูุงูุงุช ุงูุฅุดุนุงุฑ ุงูุฌุฏูุฏ: { ... }
โ๏ธ ุญุงูุฉ ุงูุฅุฑุณุงู ุงูุฎุงุฑุฌู: { ... }
๐ ุจูุงูุงุช ุงูุฅุดุนุงุฑ ุงูููุนุฏุฉ: { ... }
โ๏ธ ุฅุนุฏุงุฏุงุช ุงูุฅุฑุณุงู ุงูุฎุงุฑุฌู: { ... }
๐ฑ ุจุฏุก ุงูุฅุฑุณุงู ุงูุฎุงุฑุฌู...
๐ === ุจุฏุก ุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช ุงูุฎุงุฑุฌูุฉ ===
๐ ุจูุงูุงุช ุงูุฅุดุนุงุฑ: { ... }
โ๏ธ ุฅุนุฏุงุฏุงุช ุงูุฅุฑุณุงู: { ... }
๐ฅ ูุนุงูุฌุฉ ุงููุณุชุฎุฏููู ุงููุณุชูุฏููู...
๐ฅ ุงููุณุชุฎุฏููู ุงููุทุงุจููู: X
๐ฑ ุฅุถุงูุฉ ุฑูู ูุณุชุฎุฏู: { ... }
๐ฑ ูุนุงูุฌุฉ ุงูุฃุฑูุงู ุงููุฎุตุตุฉ...
๐ฑ ุฅุถุงูุฉ ุฑูู ูุฎุตุต: { ... }
๐ฑ ุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช ุฅูู X ุฑูู ูุงุชู
๐ฑ ุฃุฑูุงู ุงููุงุชู: [ ... ]
๐ ุจุฏุก ุญููุฉ ุงูุฅุฑุณุงู...
๐ฑ ูุนุงูุฌุฉ ุงูุฑูู: +201017799580
๐ฑ ุฅุฑุณุงู WhatsApp ุฅูู: +201017799580
๐ฑ === ุจุฏุก ุทูุจ WhatsApp ===
```

### 4. **ููุงุท ุงูุชููู ุงููุญุชููุฉ**

#### **ุฃ) ุฅุฐุง ุชููู ุนูุฏ "ุจุฏุก ุงูุฅุฑุณุงู ุงูุฎุงุฑุฌู"**
- ุงููุดููุฉ: ูู `sendExternalNotification`
- ุงูุญู: ุชุญูู ูู `externalNotificationsEnabled`

#### **ุจ) ุฅุฐุง ุชููู ุนูุฏ "ูุนุงูุฌุฉ ุงููุณุชุฎุฏููู ุงููุณุชูุฏููู"**
- ุงููุดููุฉ: ูู ููุชุฑุฉ ุงููุณุชุฎุฏููู
- ุงูุญู: ุชุญูู ูู `users` array ู `targetAudience`

#### **ุฌ) ุฅุฐุง ุชููู ุนูุฏ "ุฃุฑูุงู ุงููุงุชู"**
- ุงููุดููุฉ: ูู ุญููุฉ ุงูุฅุฑุณุงู
- ุงูุญู: ุชุญูู ูู `phoneNumbersToSend` array

#### **ุฏ) ุฅุฐุง ุชููู ุนูุฏ "ุฅุฑุณุงู WhatsApp"**
- ุงููุดููุฉ: ูู `sendWhatsAppNotification`
- ุงูุญู: ุชุญูู ูู API endpoint

### 5. **ุงูุชุญูู ูู ุงููุชุบูุฑุงุช**

#### **ุชุญูู ูู `externalNotificationsEnabled`:**
```javascript
// ูู Console
console.log('externalNotificationsEnabled:', true); // ูุฌุจ ุฃู ูููู true
```

#### **ุชุญูู ูู `newNotification.sendVia`:**
```javascript
// ูู Console
console.log('sendVia:', 'whatsapp'); // ูุฌุจ ุฃู ูููู 'whatsapp' ุฃู 'sms' ุฃู 'both'
```

#### **ุชุญูู ูู `users` array:**
```javascript
// ูู Console
console.log('users:', users); // ูุฌุจ ุฃู ูุญุชูู ุนูู ูุณุชุฎุฏููู ุจุฃุฑูุงู ูุงุชู
```

### 6. **ุฅุตูุงุญุงุช ุณุฑูุนุฉ**

#### **ุฃ) ุฅุฐุง ูุงู `externalNotificationsEnabled = false`:**
```javascript
// ูู Console
setExternalNotificationsEnabled(true);
```

#### **ุจ) ุฅุฐุง ูุงู `sendVia = 'in_app'`:**
- ุบูุฑ ููุน ุงูุฅุฑุณุงู ุฅูู "WhatsApp" ุฃู "SMS"

#### **ุฌ) ุฅุฐุง ูุงู `users` ูุงุฑุบ:**
- ุชุญูู ูู `fetchUsers()` function
- ุชุญูู ูู Firebase connection

### 7. **ุงุฎุชุจุงุฑ ุณุฑูุน**

#### **ุงุณุชุฎุฏู ุตูุญุฉ ุงูุงุฎุชุจุงุฑ:**
```
http://localhost:3000/test-beon-api
```

#### **ุงุฎุชุจุฑ API ูุจุงุดุฑุฉ:**
```javascript
// ูู Console
fetch('/api/notifications/whatsapp/send', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    phoneNumber: '+201017799580',
    message: 'ุงุฎุชุจุงุฑ',
    type: 'notification'
  })
}).then(r => r.json()).then(console.log);
```

### 8. **ุงููุชุงุฆุฌ ุงููุชููุนุฉ**

#### **ูู ุญุงูุฉ ุงููุฌุงุญ:**
```
โ ูุญุงูุงุฉ WhatsApp ูุงุฌุญุฉ
โฑ๏ธ ููุช ุงูุงุณุชุฌุงุจุฉ: 1000ms
๐ฑ === ุงูุชูุงุก ุทูุจ WhatsApp ===
โ === ุงูุชูุงุก ุฅุฑุณุงู WhatsApp ุฅูู +201017799580 ===
๐ฑ ูุชูุฌุฉ WhatsApp: ูุฌุญ
๐ ูุชุงุฆุฌ ุงูุฅุฑุณุงู: [ ... ]
๐ ููุฎุต ุงููุชุงุฆุฌ: ูุฌุญ 1ุ ูุดู 0
โ === ุงูุชูุงุก ุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช ุงูุฎุงุฑุฌูุฉ ===
โ ุงูุฅุฑุณุงู ุงูุฎุงุฑุฌู ููุชูู
โ ุชู ุญูุธ ุงูุฅุดุนุงุฑ ูู Firebase
โ === ุงูุชูุงุก ุฅูุดุงุก ุงูุฅุดุนุงุฑ ===
```

#### **ูู ุญุงูุฉ ุงููุดู:**
```
โ ุฎุทุฃ ูู WhatsApp ูู +201017799580: Error: ...
๐ฑ ูุชูุฌุฉ WhatsApp: ูุดู
๐ ููุฎุต ุงููุชุงุฆุฌ: ูุฌุญ 0ุ ูุดู 1
```

## ๐ฏ **ุงูุฎุทูุงุช ุงูุชุงููุฉ**

1. **ุฌุฑุจ ุฅูุดุงุก ุฅุดุนุงุฑ ุฌุฏูุฏ**
2. **ุฑุงูุจ Console Logs**
3. **ุญุฏุฏ ููุทุฉ ุงูุชููู**
4. **ุทุจู ุงูุฅุตูุงุญ ุงูููุงุณุจ**
5. **ุงุฎุชุจุฑ ูุฑุฉ ุฃุฎุฑู**

## ๐ **ุงูุฏุนู**

ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ:
- ุงูุณุฎ Console Logs ูุงููุฉ
- ุญุฏุฏ ููุทุฉ ุงูุชููู ุจุงูุถุจุท
- ุงุฑูุน ุงูุตูุฑ ุฃู ุงูููุฏูู ุฅุฐุง ูุฒู ุงูุฃูุฑ
