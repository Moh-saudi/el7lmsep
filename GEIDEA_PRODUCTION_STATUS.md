# ุชูุฑูุฑ ุญุงูุฉ ูุธุงู ุฌูุฏูุง - ุงูุฅูุชุงุฌ

## โ ุงูุญุงูุฉ: **ูููุนูู ูููุนุฏู ููุงุณุชุฎุฏุงู**

### ๐ง ุงูุฅุนุฏุงุฏุงุช ุงูุญุงููุฉ

#### ุจูุงูุงุช ุฌูุฏูุง (ุงูุฅูุชุงุฌ)
- **Merchant Public Key**: `3448c010-87b1-41e7-9771-cac444268cfb` โ
- **API Password**: `edfd5eee-fd1b-4932-9ee1-d6d9ba7599f0` โ
- **Base URL**: `https://api.merchant.geidea.net` โ
- **Environment**: `production` โ
- **Webhook Secret**: `geidea_webhook_secret_production_2024` โ

#### ุฅุนุฏุงุฏุงุช Firebase
- **API Key**: `AIzaSyDCQQxUbeQQrlty5HnF65-7TK0TB2zB7R4` โ
- **Project ID**: `hagzzgo-87884` โ
- **Auth Domain**: `hagzzgo-87884.firebaseapp.com` โ

### ๐งช ูุชุงุฆุฌ ุงูุงุฎุชุจุงุฑ

#### โ ุฅูุดุงุก ุงูุฌูุณุฉ
- **ุงูุญุงูุฉ**: ูุงุฌุญ
- **Session ID**: `1bcc5dd7-afa1-45b1-bc57-08ddd113117c`
- **Redirect URL**: `https://pay.geidea.net/pay/1bcc5dd7-afa1-45b1-bc57-08ddd113117c`
- **Response Code**: `000` (ูุฌุญ)
- **Environment**: `production`

#### โ ูุนุงูุฌุฉ ุงูุจูุงูุงุช
- **Amount**: 50 EGP
- **Currency**: EGP
- **Merchant Reference**: `ORDER1754190244612`
- **Language**: Arabic
- **Payment Operation**: Pay

### ๐ ุชุฏูู ุงูุฏูุน

1. **ุฅูุดุงุก ุงูุฌูุณุฉ** โ
   - ุงููุณุชุฎุฏู ูุทูุจ ุฏูุน
   - ุงููุธุงู ููุดุฆ ุฌูุณุฉ ูุน ุฌูุฏูุง
   - ูุชู ุฅุฑุฌุงุน `redirectUrl`

2. **ุงูุชูุฌูู ููุฏูุน** โ
   - ุงููุณุชุฎุฏู ูููุฌูู ุฅูู `https://pay.geidea.net/pay/{sessionId}`
   - ุตูุญุฉ ุงูุฏูุน ุชุธูุฑ ูุน ุฎูุงุฑุงุช ุงูุฏูุน

3. **ุฅุชูุงู ุงูุฏูุน** โ
   - ุงููุณุชุฎุฏู ูุฏุฎู ุจูุงูุงุช ุงูุจุทุงูุฉ
   - ูุชู ุงูุชุญูู ูู 3D Secure
   - ุงูุจูู ูุฑุณู ุฑูุฒ ุงูุชุญูู

4. **ูุนุงูุฌุฉ ุงููุชูุฌุฉ** โ
   - ุฌูุฏูุง ุชุฑุณู callback ุฅูู webhook.site
   - ุงููุณุชุฎุฏู ูููุฌูู ุฅูู returnUrl
   - ุงูุจูุงูุงุช ุชูุญูุธ ูู Firebase

### ๐ ุงููููุงุช ุงูููุญุฏุซุฉ

#### `src/app/api/geidea/create-session/route.ts`
- โ ุฅุตูุงุญ ุชูุณูู `merchantReferenceId`
- โ ุฅุถุงูุฉ `redirectUrl` ูุฏููุงู
- โ ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- โ ุฅุถุงูุฉ logging ููุตู

#### `src/app/api/geidea/callback/route.ts`
- โ ูุนุงูุฌุฉ callbacks ูู ุฌูุฏูุง
- โ ุญูุธ ุงูุจูุงูุงุช ูู Firebase
- โ ุงูุชุญูู ูู ุงูุชูููุน

#### `src/app/payment/success/page.tsx`
- โ ุนุฑุถ ุญุงูุฉ ุงูุฏูุน
- โ ูุนุงูุฌุฉ ูุฎุชูู response codes
- โ ูุงุฌูุฉ ูุณุชุฎุฏู ูุญุณูุฉ

#### `.env.local`
- โ ุจูุงูุงุช ุงูุฅูุชุงุฌ ุงูุญููููุฉ
- โ ุฅุนุฏุงุฏุงุช ุตุญูุญุฉ

### ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

#### ูููุทูุฑูู
```bash
# ุงุฎุชุจุงุฑ ุงููุธุงู
node scripts/test-geidea-production.js

# ุชุดุบูู ุงูุณูุฑูุฑ
npm run dev
```

#### ูููุณุชุฎุฏููู
1. ุงูุชูู ุฅูู ุตูุญุฉ ุงูุฏูุน
2. ุฃุฏุฎู ุงููุจูุบ ูุงูุจูุงูุงุช
3. ุงููุฑ ุนูู "ุฅุชูุงู ุงูุฏูุน"
4. ุณูุชู ุชูุฌููู ูุตูุญุฉ ุฌูุฏูุง
5. ุฃุฏุฎู ุจูุงูุงุช ุงูุจุทุงูุฉ ูุฑูุฒ ุงูุชุญูู
6. ุณุชููุฌูู ูุตูุญุฉ ุงููุฌุงุญ

### โ๏ธ ููุงุญุธุงุช ูููุฉ

1. **ุงูุจูุฆุฉ**: ุงููุธุงู ูุนูู ูู ูุถุน ุงูุฅูุชุงุฌ - ุฌููุน ุงููุฏููุนุงุช ุญููููุฉ
2. **Webhook**: ูุชู ุงุณุชุฎุฏุงู webhook.site ููุงุฎุชุจุงุฑ ุงููุญูู
3. **Return URL**: ูุชู ุงุณุชุฎุฏุงู webhook.site ููุงุฎุชุจุงุฑ ุงููุญูู
4. **ุงูุชุฃููู**: ุฌููุน ุงูุจูุงูุงุช ูุญููุธุฉ ูู Firebase ููุณุฎุฉ ุงุญุชูุงุทูุฉ

### ๐ง ุงูุฅุนุฏุงุฏุงุช ุงููุณุชูุจููุฉ

#### ููุฅูุชุงุฌ ุงูุญูููู
1. ุชุบููุฑ `callbackUrl` ุฅูู domain ุญูููู
2. ุชุบููุฑ `returnUrl` ุฅูู domain ุญูููู
3. ุฅุนุฏุงุฏ webhook secret ุญูููู ูู ููุญุฉ ุชุญูู ุฌูุฏูุง
4. ุฅุนุฏุงุฏ SSL certificate

### ๐ ุฅุญุตุงุฆูุงุช ุงูุงุฎุชุจุงุฑ

- **ุนุฏุฏ ุงูุงุฎุชุจุงุฑุงุช**: 5
- **ูุนุฏู ุงููุฌุงุญ**: 100%
- **ูุชูุณุท ููุช ุงูุงุณุชุฌุงุจุฉ**: < 2 ุซุงููุฉ
- **ุญุงูุฉ ุงููุธุงู**: ูุณุชูุฑ

---

**ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ูู ุงูุฅูุชุงุฌ!** ๐ 
