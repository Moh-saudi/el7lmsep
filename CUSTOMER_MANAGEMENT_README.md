# صفحة إدارة العملاء - دليل الاستخدام

## نظرة عامة
صفحة إدارة العملاء هي أداة شاملة تتيح للموظفين إدارة بيانات العملاء والتفاعل معهم بسهولة وفعالية.

## الميزات الرئيسية

### 1. رفع ملفات CSV
- **الوظيفة**: رفع ملفات CSV تحتوي على بيانات العملاء
- **التنسيق المطلوب**: 
  - الأعمدة: name, phone, type, group, date, email, notes
  - يمكن استخدام أسماء الأعمدة بأي حالة (صغيرة أو كبيرة)
- **الاستخدام**: انقر على زر "رفع ملف CSV" واختر الملف

### 2. عرض قائمة العملاء
- **الجدول يعرض**: الاسم، الرقم، النوع، المجموعة، التاريخ
- **البحث**: يمكن البحث في الاسم أو الرقم أو النوع
- **الترقيم**: عرض 10 عملاء في كل صفحة مع إمكانية التنقل

### 3. تفاصيل العميل
- **عرض المعلومات**: الاسم، الرقم، النوع، المجموعة، التاريخ
- **أزرار التواصل**: 
  - واتساب: يفتح تطبيق واتساب مع رسالة ترحيبية
  - مكالمة: يفتح تطبيق الاتصال

### 4. سجل التفاعل
- **تسجيل تلقائي**: جميع المكالمات والرسائل تُسجل تلقائياً
- **عرض التاريخ**: تاريخ ووقت كل تفاعل
- **أنواع التفاعل**: واتساب، مكالمة هاتفية

### 5. المساعد الآلي (Chatbot)
- **محادثة تفاعلية**: إرسال رسائل واستقبال ردود آلية
- **ردود ذكية**: مجموعة متنوعة من الردود المناسبة
- **تسجيل المحادثات**: حفظ جميع الرسائل المتبادلة

### 6. تصدير البيانات
- **تصدير CSV**: تصدير جميع بيانات العملاء إلى ملف CSV
- **الاستخدام**: انقر على زر "تصدير" لتحميل الملف

## كيفية الاستخدام

### الخطوة 1: رفع بيانات العملاء
1. انقر على زر "رفع ملف CSV"
2. اختر ملف CSV يحتوي على بيانات العملاء
3. سيتم عرض البيانات في الجدول تلقائياً

### الخطوة 2: استعراض العملاء
1. استخدم حقل البحث للعثور على عميل معين
2. انقر على أي عميل لعرض تفاصيله
3. استخدم أزرار التنقل للانتقال بين الصفحات

### الخطوة 3: التواصل مع العملاء
1. اختر عميلاً من القائمة
2. انقر على زر "واتساب" لإرسال رسالة
3. انقر على زر "مكالمة" لإجراء مكالمة هاتفية

### الخطوة 4: استخدام المساعد الآلي
1. اختر عميلاً من القائمة
2. اكتب رسالة في حقل "اكتب رسالتك..."
3. انقر على زر الإرسال أو اضغط Enter
4. ستظهر رسالة رد من المساعد الآلي

## تنسيق ملف CSV

```csv
name,phone,type,group,date,email,notes
أحمد محمد,966501234567,عميل عادي,مجموعة أ,2024-01-15,ahmed@example.com,عميل نشط
فاطمة علي,966507654321,عميل VIP,مجموعة ب,2024-01-10,fatima@example.com,عميل مميز
```

### الأعمدة المطلوبة:
- **name**: اسم العميل
- **phone**: رقم الهاتف (مع رمز الدولة)
- **type**: نوع العميل (عميل عادي، عميل VIP، إلخ)
- **group**: المجموعة التي ينتمي إليها العميل
- **date**: تاريخ التسجيل
- **email**: البريد الإلكتروني (اختياري)
- **notes**: ملاحظات إضافية (اختياري)

## الملفات المطلوبة

### المكتبات المثبتة:
```bash
npm install papaparse @types/papaparse
```

### الملفات المضافة:
- `src/app/dashboard/admin/customer-management/page.tsx` - الصفحة الرئيسية
- `public/sample-customers.csv` - ملف CSV نموذجي للاختبار

### التحديثات:
- `src/components/layout/AdminSidebar.jsx` - إضافة رابط في القائمة الجانبية
- `src/app/dashboard/admin/page.tsx` - إضافة رابط في لوحة التحكم

## الأمان والخصوصية

- الصفحة محمية بـ `AccountTypeProtection` وتتطلب صلاحيات أدمن
- جميع البيانات تُحفظ محلياً في المتصفح
- لا يتم إرسال البيانات إلى أي خادم خارجي

## الدعم الفني

في حالة مواجهة أي مشاكل:
1. تأكد من تنسيق ملف CSV
2. تحقق من صلاحيات المستخدم
3. تأكد من تثبيت جميع المكتبات المطلوبة

## التطوير المستقبلي

يمكن إضافة الميزات التالية:
- حفظ البيانات في قاعدة البيانات
- إضافة المزيد من أنواع التفاعل
- تحسين المساعد الآلي باستخدام الذكاء الاصطناعي
- إضافة تقارير وإحصائيات مفصلة
- إمكانية تعديل بيانات العملاء
- إضافة نظام تنبيهات
