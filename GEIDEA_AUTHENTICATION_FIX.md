# ๐ ุญู ูุดููุฉ ูุตุงุฏูุฉ ุฌูุฏูุง (Geidea Authentication Fix)

## ๐จ ุงููุดููุฉ ุงูุญุงููุฉ
```
โ Geidea API error: {
  responseMessage: 'General error', 
  detailedResponseMessage: 'Merchant authentication failed', 
  language: 'EN', 
  responseCode: '100', 
  detailedResponseCode: '023'
}
POST http://localhost:3003/api/geidea/create-session 401 (Unauthorized)
```

## ๐ ุณุจุจ ุงููุดููุฉ
ุงููุดููุฉ ูู ุฃู ุจูุงูุงุช ุงูุงุนุชูุงุฏ (Credentials) ุงูุญุงููุฉ ูู ููู `.env.local` ูู ููู ุชุฌุฑูุจูุฉ ููููุฉ:

```env
GEIDEA_MERCHANT_PUBLIC_KEY=test_merchant_public_key_12345
GEIDEA_API_PASSWORD=test_api_password_12345
```

ูุฐู ุงูููู ุบูุฑ ุตุญูุญุฉ ููุง ุชูุซู ุจูุงูุงุช ุงุนุชูุงุฏ ุญููููุฉ ูู ุฌูุฏูุงุ ูุฐูู ูุฑูุถ API ุฌูุฏูุง ุงูุทูุจ ููุนูุฏ ุฎุทุฃ 401.

## โ ุงูุญููู ุงููุชุงุญุฉ

### ุงูุญู ุงูุฃูู: ุงูุญุตูู ุนูู ุจูุงูุงุช ุงุนุชูุงุฏ ุญููููุฉ ูู ุฌูุฏูุง

#### 1. ุฅูุดุงุก ุญุณุงุจ ูู ุฌูุฏูุง
1. ุงุฐูุจ ุฅูู [ููุญุฉ ุชุญูู ุฌูุฏูุง](https://merchant.geidea.net/)
2. ุณุฌู ุญุณุงุจ ุฌุฏูุฏ ุฃู ุงุณุชุฎุฏู ุญุณุงุจ ููุฌูุฏ
3. ุฃููู ุนูููุฉ ุงูุชุญูู ูู ุงูุญุณุงุจ

#### 2. ุงูุญุตูู ุนูู ุจูุงูุงุช ุงูุงุนุชูุงุฏ
ูู ููุญุฉ ุชุญูู ุฌูุฏูุงุ ุงุญุตู ุนูู:
- **Merchant Public Key** (ููุชุงุญ ุงูุชุงุฌุฑ ุงูุนุงู)
- **API Password** (ูููุฉ ูุฑูุฑ API)
- **Webhook Secret** (ุณุฑูุฉ ุงูููุจููู)

#### 3. ุชุญุฏูุซ ููู .env.local
ุงุณุชุจุฏู ุงูููู ุงูููููุฉ ุจุงูุจูุงูุงุช ุงูุญููููุฉ:

```env
# Geidea Payment Gateway Configuration - REAL CREDENTIALS
GEIDEA_MERCHANT_PUBLIC_KEY=your_real_merchant_public_key_here
GEIDEA_API_PASSWORD=your_real_api_password_here
GEIDEA_WEBHOOK_SECRET=your_real_webhook_secret_here
GEIDEA_BASE_URL=https://api.merchant.geidea.net
NEXT_PUBLIC_GEIDEA_ENVIRONMENT=production
```

### ุงูุญู ุงูุซุงูู: ุงุณุชุฎุฏุงู ูุถุน ุงูุชุทููุฑ (Development Mode)

ุฅุฐุง ูู ุชูู ุชุฑูุฏ ุฅุนุฏุงุฏ ุญุณุงุจ ุฌูุฏูุง ุญูููู ุงูุขูุ ููููู ุงุณุชุฎุฏุงู ูุถุน ุงูุชุทููุฑ:

#### 1. ุชูุนูู ูุถุน ุงูุชุทููุฑ
```env
# Geidea Payment Gateway Configuration - DEVELOPMENT MODE
GEIDEA_MERCHANT_PUBLIC_KEY=test_merchant_public_key_12345
GEIDEA_API_PASSWORD=test_api_password_12345
GEIDEA_WEBHOOK_SECRET=test_webhook_secret_12345
GEIDEA_BASE_URL=https://api.merchant.geidea.net
NEXT_PUBLIC_GEIDEA_ENVIRONMENT=test
```

#### 2. ุงูุชุทุจูู ุณูุนูู ูู ูุถุน ุงููุญุงูุงุฉ
- ูู ูุชู ุฅุฑุณุงู ุทูุจุงุช ุญููููุฉ ุฅูู ุฌูุฏูุง
- ุณูุชู ุฅูุดุงุก ุฌูุณุงุช ููููุฉ ููุชุทููุฑ
- ูู ุชุธูุฑ ุฃุฎุทุงุก 401

### ุงูุญู ุงูุซุงูุซ: ุชุนุทูู ููุฒุฉ ุงูุฏูุน ูุคูุชุงู

ุฅุฐุง ููุช ุชุฑูุฏ ุงูุชุฑููุฒ ุนูู ููุฒุงุช ุฃุฎุฑู:

#### 1. ุฅุถุงูุฉ ูุชุบูุฑ ุจูุฆุฉ ูุชุนุทูู ุงูุฏูุน
```env
DISABLE_PAYMENT_FEATURES=true
```

#### 2. ุชุนุฏูู ุงูููุฏ ููุชุญูู ูู ูุฐุง ุงููุชุบูุฑ
```typescript
if (process.env.DISABLE_PAYMENT_FEATURES === 'true') {
  // ุฅุธูุงุฑ ุฑุณุงูุฉ ุฃู ููุฒุฉ ุงูุฏูุน ูุนุทูุฉ
  return NextResponse.json({
    success: false,
    message: 'Payment features are temporarily disabled'
  });
}
```

## ๐งช ุงุฎุชุจุงุฑ ุงูุญู

### ุจุนุฏ ุชุทุจูู ุงูุญู ุงูุฃูู (ุจูุงูุงุช ุงุนุชูุงุฏ ุญููููุฉ):
1. ุฃุนุฏ ุชุดุบูู ุงูุฎุงุฏู:
   ```bash
   npm run dev
   ```

2. ุฌุฑุจ ุฅูุดุงุก ุฌูุณุฉ ุฏูุน
3. ุชุญูู ูู ุนุฏู ุธููุฑ ุฎุทุฃ 401

### ุจุนุฏ ุชุทุจูู ุงูุญู ุงูุซุงูู (ูุถุน ุงูุชุทููุฑ):
1. ุณุชุธูุฑ ุฑุณุงุฆู ูู Console ุชุดูุฑ ุฅูู ูุถุน ุงูุชุทููุฑ
2. ูู ุชุธูุฑ ุฃุฎุทุงุก 401
3. ุณุชุธูุฑ ุฌูุณุงุช ููููุฉ

## ๐ ุฎุทูุงุช ููุฑูุฉ ููุชุทุจูู

### ุงูุฎุทูุฉ 1: ุชุญุฏูุฏ ุงูุญู ุงูููุถู
- **ููุฅูุชุงุฌ**: ุงุณุชุฎุฏู ุงูุญู ุงูุฃูู (ุจูุงูุงุช ุงุนุชูุงุฏ ุญููููุฉ)
- **ููุชุทููุฑ**: ุงุณุชุฎุฏู ุงูุญู ุงูุซุงูู (ูุถุน ุงูุชุทููุฑ)
- **ููุชุทููุฑ ุงููุคูุช**: ุงุณุชุฎุฏู ุงูุญู ุงูุซุงูุซ (ุชุนุทูู ุงูููุฒุฉ)

### ุงูุฎุทูุฉ 2: ุชุทุจูู ุงูุญู
1. ุงุฎุชุฑ ุงูุญู ุงูููุงุณุจ ูู ุฃุนูุงู
2. ุนุฏูู ููู `.env.local` ุญุณุจ ุงูุญู ุงููุฎุชุงุฑ
3. ุฃุนุฏ ุชุดุบูู ุงูุฎุงุฏู

### ุงูุฎุทูุฉ 3: ุงูุชุญูู ูู ุงููุชูุฌุฉ
1. ุงูุชุญ ูุญุฏุฉ ุชุญูู ุงููุชุตูุญ (F12)
2. ุฌุฑุจ ุฅูุดุงุก ุฌูุณุฉ ุฏูุน
3. ุชุญูู ูู ุนุฏู ุธููุฑ ุฎุทุฃ 401

## ๐ง ุฅุนุฏุงุฏุงุช ุฅุถุงููุฉ

### ููุชุทููุฑ ุงููุญูู
```env
NEXT_PUBLIC_BASE_URL=http://localhost:3000
```

### ููุฅูุชุงุฌ
```env
NEXT_PUBLIC_BASE_URL=https://your-domain.com
```

### ุฅุนุฏุงุฏ Webhook (ุงุฎุชูุงุฑู)
```env
GEIDEA_WEBHOOK_URL=https://your-domain.com/api/geidea/webhook
```

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ูุดุงูู:
1. ุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ูู ููู `.env.local`
2. ุชุฃูุฏ ูู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู ุจุนุฏ ุงูุชุนุฏูู
3. ุฑุงุฌุน ุณุฌูุงุช ุงูุฃุฎุทุงุก ูู ูุญุฏุฉ ุชุญูู ุงููุชุตูุญ
4. ุงุชุตู ุจุฏุนู ุฌูุฏูุง ุฅุฐุง ููุช ุชุณุชุฎุฏู ุจูุงูุงุช ุงุนุชูุงุฏ ุญููููุฉ

## ๐ฏ ุงููุชูุฌุฉ ุงููุชููุนุฉ

ุจุนุฏ ุชุทุจูู ุงูุญู ุงูููุงุณุจ:
- โ ูู ุชุธูุฑ ุฃุฎุทุงุก 401
- โ ุณุชุนูู ููุฒุฉ ุงูุฏูุน ุจุดูู ุตุญูุญ
- โ ูู ุชุธูุฑ ุฑุณุงุฆู ุชุญุฐูุฑ ูู Console
- โ ุณุชุนูู ุฌููุน ููุฒุงุช ุงูุชุทุจูู ุงูุฃุฎุฑู ุจุดูู ุทุจูุนู 
